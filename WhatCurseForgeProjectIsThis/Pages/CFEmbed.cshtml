@page "/{game}/{category}/{slug}"
@model WhatCurseForgeProjectIsThis.Pages.CFEmbedModel
@{
    ViewData["Title"] = "What?";

    var permLink = string.Empty;

    if (Model.FoundMod != null)
    {
        ViewData["Title"] = Model.FoundMod.Name;
        permLink = Url.PageLink($"/CFEmbed", values: new { game = Model.Game, category = Model.Category, slug = Model.Slug }, protocol: "https");
    }
}

@section Head {
<meta name="twitter:card" content="summary" />
    @if (Model.FoundMod != null)
    {
<meta property="og:title" content="@Model.FoundMod.Name" />
<meta name="twitter:title" content="@Model.FoundMod.Name" />
        if (Model.FoundMod.Links != null && !string.IsNullOrWhiteSpace(Model.FoundMod.Links.WebsiteUrl))
        {
<meta property="og:url" content="@Model.FoundMod.Links.WebsiteUrl" />
        }
        if (Model.FoundMod.Logo != null && !string.IsNullOrWhiteSpace(Model.FoundMod.Logo.ThumbnailUrl))
        {
<meta property="og:image" content="@Model.FoundMod.Logo.ThumbnailUrl" />
<meta property="og:image:width" content="256" />
<meta property="og:image:height" content="256" />
<meta name="twitter:image" content="@Model.FoundMod.Logo.ThumbnailUrl" />
        }
<meta name="description" content="@Model.FoundMod.Summary" />
<meta name="og:description" content="@Model.FoundMod.Summary" />
<meta name="twitter:description" content="@Model.FoundMod.Summary" />
<meta name="twitter:site" content="@@CurseForge">
    }
    else
    {
<meta property="og:title" content="@Model.Slug - Embed not available yet" />
<meta property="og:url" content="@permLink" />
<meta name="description" content="We could not find the information for the requested mod, or it is not available through the CurseForge Core API yet." />
<meta name="og:description" content="We could not find the information for the requested mod, or it is not available through the CurseForge Core API yet." />
<meta name="twitter:description" content="We could not find the information for the requested mod, or it is not available through the CurseForge Core API yet." />
<meta name="twitter:site" content="@@NoLifeKing85">
    }
}